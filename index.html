<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Plaud Notes</title>
  <style>
    :root {
      --bg: #0d1117;
      --surface: #161b22;
      --surface-hover: #1f2937;
      --border: #30363d;
      --text: #e6edf3;
      --text-muted: #8b949e;
      --accent: #58a6ff;
      --voice: #a855f7;
      --meeting: #22c55e;
      --inbox: #6366f1;
      --review: #f59e0b;
      --action: #ef4444;
      --done: #10b981;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding-bottom: 80px;
    }

    /* Header */
    .header {
      position: sticky;
      top: 0;
      z-index: 100;
      background: var(--surface);
      border-bottom: 1px solid var(--border);
      padding: 12px 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .header h1 {
      font-size: 18px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    /* Section */
    .section {
      padding: 12px 0;
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 16px;
      position: sticky;
      top: 52px;
      background: var(--bg);
      z-index: 50;
    }

    .section-icon {
      font-size: 20px;
    }

    .section-title {
      font-size: 14px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .section-title.voice {
      color: var(--voice);
    }

    .section-title.meeting {
      color: var(--meeting);
    }

    .section-count {
      background: var(--border);
      padding: 2px 8px;
      border-radius: 10px;
      font-size: 11px;
      color: var(--text-muted);
    }

    /* Board */
    .board {
      display: flex;
      gap: 10px;
      padding: 0 12px 12px;
      overflow-x: auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
    }

    .column {
      flex: 0 0 260px;
      scroll-snap-align: start;
      background: var(--surface);
      border-radius: 10px;
      border: 1px solid var(--border);
      min-height: 180px;
      max-height: 300px;
      display: flex;
      flex-direction: column;
    }

    @media (max-width: 640px) {
      .column {
        flex: 0 0 75vw;
      }
    }

    .column-header {
      padding: 10px 12px;
      border-bottom: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .column-title {
      font-size: 12px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 6px;
      color: var(--text-muted);
    }

    .column-count {
      background: var(--border);
      padding: 2px 6px;
      border-radius: 8px;
      font-size: 10px;
      color: var(--text-muted);
    }

    .column-indicator {
      width: 6px;
      height: 6px;
      border-radius: 50%;
    }

    .column.inbox .column-indicator { background: var(--inbox); }
    .column.review .column-indicator { background: var(--review); }
    .column.action .column-indicator { background: var(--action); }
    .column.done .column-indicator { background: var(--done); }

    .column-cards {
      padding: 8px;
      overflow-y: auto;
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    /* Cards */
    .card {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 10px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .card:hover {
      border-color: var(--accent);
    }

    .card.voice {
      border-left: 3px solid var(--voice);
    }

    .card.meeting {
      border-left: 3px solid var(--meeting);
    }

    .card-title {
      font-size: 13px;
      font-weight: 500;
      margin-bottom: 4px;
      line-height: 1.3;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .card-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 10px;
      color: var(--text-muted);
    }

    .card-tasks {
      background: var(--action);
      color: white;
      padding: 1px 5px;
      border-radius: 3px;
      font-size: 9px;
    }

    /* Add button */
    .add-btn {
      position: fixed;
      bottom: 24px;
      right: 24px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: var(--accent);
      border: none;
      color: white;
      font-size: 28px;
      cursor: pointer;
      box-shadow: 0 4px 12px rgba(88, 166, 255, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.2s;
      z-index: 100;
    }

    .add-btn:hover {
      transform: scale(1.05);
    }

    /* Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.7);
      z-index: 200;
      align-items: flex-end;
      justify-content: center;
    }

    .modal-overlay.open {
      display: flex;
    }

    .modal {
      background: var(--surface);
      border-radius: 16px 16px 0 0;
      width: 100%;
      max-width: 500px;
      max-height: 85vh;
      overflow-y: auto;
      padding: 20px;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }

    .modal-title {
      font-size: 18px;
      font-weight: 600;
    }

    .modal-close {
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 24px;
      cursor: pointer;
      padding: 4px 8px;
    }

    .detail-type {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      font-size: 11px;
      padding: 3px 10px;
      border-radius: 4px;
      margin-bottom: 8px;
    }

    .detail-type.voice {
      background: rgba(168, 85, 247, 0.15);
      color: var(--voice);
    }

    .detail-type.meeting {
      background: rgba(34, 197, 94, 0.15);
      color: var(--meeting);
    }

    .detail-section {
      margin-bottom: 16px;
    }

    .detail-label {
      font-size: 11px;
      text-transform: uppercase;
      color: var(--text-muted);
      margin-bottom: 6px;
      letter-spacing: 0.5px;
    }

    .detail-content {
      font-size: 14px;
      line-height: 1.5;
    }

    .takeaway-list, .action-list {
      list-style: none;
    }

    .takeaway-list li, .action-list li {
      padding: 6px 0;
      border-bottom: 1px solid var(--border);
      font-size: 13px;
    }

    .takeaway-list li:last-child, .action-list li:last-child {
      border-bottom: none;
    }

    .action-list li {
      display: flex;
      align-items: flex-start;
      gap: 8px;
    }

    .action-list input[type="checkbox"] {
      margin-top: 3px;
      accent-color: var(--accent);
    }

    .transcript-box {
      background: var(--bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 12px;
      font-size: 13px;
      line-height: 1.6;
      max-height: 150px;
      overflow-y: auto;
    }

    .transcript-time {
      color: var(--accent);
      font-size: 11px;
      display: block;
      margin-top: 8px;
    }

    .move-buttons {
      display: flex;
      gap: 8px;
      margin-top: 16px;
      flex-wrap: wrap;
    }

    .move-btn {
      flex: 1;
      min-width: 70px;
      padding: 10px 8px;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--surface);
      color: var(--text);
      font-size: 12px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .move-btn:hover {
      background: var(--surface-hover);
    }

    .move-btn.primary {
      background: var(--accent);
      border-color: var(--accent);
    }

    /* Empty state */
    .empty-state {
      text-align: center;
      padding: 16px;
      color: var(--text-muted);
      font-size: 12px;
    }

    /* Divider */
    .divider {
      height: 1px;
      background: var(--border);
      margin: 8px 16px;
    }
  </style>
</head>
<body>
  <header class="header">
    <h1>üìù Plaud Notes</h1>
  </header>

  <!-- Voice Notes Section -->
  <section class="section" id="voice-section">
    <div class="section-header">
      <span class="section-icon">üé§</span>
      <span class="section-title voice">Voice Notes</span>
      <span class="section-count" id="voice-total">0</span>
    </div>
    <div class="board" id="voice-board">
      <div class="column inbox" data-column="inbox" data-type="voice">
        <div class="column-header">
          <span class="column-title"><span class="column-indicator"></span> Inbox</span>
          <span class="column-count">0</span>
        </div>
        <div class="column-cards"></div>
      </div>
      <div class="column review" data-column="review" data-type="voice">
        <div class="column-header">
          <span class="column-title"><span class="column-indicator"></span> Reviewing</span>
          <span class="column-count">0</span>
        </div>
        <div class="column-cards"></div>
      </div>
      <div class="column action" data-column="action" data-type="voice">
        <div class="column-header">
          <span class="column-title"><span class="column-indicator"></span> Action</span>
          <span class="column-count">0</span>
        </div>
        <div class="column-cards"></div>
      </div>
      <div class="column done" data-column="done" data-type="voice">
        <div class="column-header">
          <span class="column-title"><span class="column-indicator"></span> Done</span>
          <span class="column-count">0</span>
        </div>
        <div class="column-cards"></div>
      </div>
    </div>
  </section>

  <div class="divider"></div>

  <!-- Meetings Section -->
  <section class="section" id="meetings-section">
    <div class="section-header">
      <span class="section-icon">üìÖ</span>
      <span class="section-title meeting">Meetings</span>
      <span class="section-count" id="meeting-total">0</span>
    </div>
    <div class="board" id="meeting-board">
      <div class="column inbox" data-column="inbox" data-type="meeting">
        <div class="column-header">
          <span class="column-title"><span class="column-indicator"></span> Inbox</span>
          <span class="column-count">0</span>
        </div>
        <div class="column-cards"></div>
      </div>
      <div class="column review" data-column="review" data-type="meeting">
        <div class="column-header">
          <span class="column-title"><span class="column-indicator"></span> Reviewing</span>
          <span class="column-count">0</span>
        </div>
        <div class="column-cards"></div>
      </div>
      <div class="column action" data-column="action" data-type="meeting">
        <div class="column-header">
          <span class="column-title"><span class="column-indicator"></span> Action</span>
          <span class="column-count">0</span>
        </div>
        <div class="column-cards"></div>
      </div>
      <div class="column done" data-column="done" data-type="meeting">
        <div class="column-header">
          <span class="column-title"><span class="column-indicator"></span> Done</span>
          <span class="column-count">0</span>
        </div>
        <div class="column-cards"></div>
      </div>
    </div>
  </section>

  <button class="add-btn">+</button>

  <div class="modal-overlay" id="modal">
    <div class="modal">
      <div class="modal-header">
        <span class="modal-title">Note Details</span>
        <button class="modal-close" onclick="closeModal()">√ó</button>
      </div>
      <div id="modal-content"></div>
    </div>
  </div>

  <script>
    // Sample data
    let notes = [
      {
        id: 1,
        type: 'voice',
        title: 'Testing the New Recording Device\'s Functionality',
        synopsis: 'An exploration of a new recording device to determine if it captures audio continuously or only generates summaries.',
        takeaways: [
          'The speaker is unsure about the functionality of a new recording device',
          'The primary question is whether the device records everything continuously or only creates summaries',
          'A test is being conducted to understand the device\'s behavior'
        ],
        actions: [
          { text: 'Test the "mark" feature by pushing the button and reviewing the output', done: false },
          { text: 'Verify if the device records all words or only creates summaries', done: true }
        ],
        transcript: `<span class="transcript-time">00:00:28</span>
So this is my new recording device that I'm using right now. And I'm trying to see if it's recording me.

<span class="transcript-time">00:00:55</span>
So it's not going to record every word, I guess. It's just going to record highlights about the things that I'm saying.`,
        date: '2026-02-01',
        column: 'inbox'
      },
      {
        id: 2,
        type: 'voice',
        title: 'Quick idea: Dealership dashboard redesign',
        synopsis: 'Thoughts on simplifying the main dashboard view for dealership managers.',
        takeaways: [
          'Current dashboard is too cluttered',
          'Need KPI widgets front and center',
          'Mobile view needs complete rethink'
        ],
        actions: [],
        transcript: `<span class="transcript-time">00:00:05</span>
Just had a thought about the dashboard...`,
        date: '2026-01-31',
        column: 'review'
      },
      {
        id: 3,
        type: 'voice',
        title: 'Reminder: Call Brad about data export',
        synopsis: 'Need to follow up with Brad on the GA4 data format.',
        takeaways: ['Brad prefers CSV over JSON', 'Weekly exports on Mondays'],
        actions: [{ text: 'Schedule call with Brad', done: false }],
        transcript: `<span class="transcript-time">00:00:02</span>
Don't forget to call Brad...`,
        date: '2026-02-02',
        column: 'action'
      },
      {
        id: 4,
        type: 'meeting',
        title: 'Sam Boswell Q1 Planning Discussion',
        synopsis: 'Quarterly planning meeting with O\'Neil and Brad to discuss marketing strategy and GA4 integration timeline.',
        takeaways: [
          'GA4 integration is priority for Q1',
          'Brad will provide historical data by Feb 15',
          'O\'Neil approved budget for additional rooftop rollout'
        ],
        actions: [
          { text: 'Schedule follow-up with Brad on data format', done: false },
          { text: 'Draft integration timeline document', done: false },
          { text: 'Send O\'Neil the revised proposal', done: false }
        ],
        transcript: `<span class="transcript-time">00:01:12</span>
Alright, so let's talk about Q1 priorities for Sam Boswell...`,
        date: '2026-02-01',
        column: 'inbox'
      },
      {
        id: 5,
        type: 'meeting',
        title: 'Vendor call with Analytics provider',
        synopsis: 'Discussion about API limits and pricing tiers for scaled usage.',
        takeaways: [
          'Current tier allows 10k calls/day',
          'Enterprise tier needed for multi-rooftop',
          'They offered 20% discount for annual commit'
        ],
        actions: [
          { text: 'Compare pricing with alternatives', done: false },
          { text: 'Get approval from O\'Neil for annual commit', done: false }
        ],
        transcript: `<span class="transcript-time">00:00:30</span>
Thanks for hopping on this call...`,
        date: '2026-01-30',
        column: 'action'
      },
      {
        id: 6,
        type: 'meeting',
        title: 'Shawn sync: Next Automotive roadmap',
        synopsis: 'Weekly sync with Shawn on consulting pipeline and deliverables.',
        takeaways: [
          'Two new leads in pipeline',
          'Sam Boswell expansion on track',
          'Need to hire contractor for frontend'
        ],
        actions: [
          { text: 'Review contractor candidates', done: true },
          { text: 'Prep deck for new lead pitch', done: false }
        ],
        transcript: `<span class="transcript-time">00:00:15</span>
Hey, let's go through the week...`,
        date: '2026-01-29',
        column: 'review'
      }
    ];

    let selectedNote = null;

    function renderBoard() {
      const types = ['voice', 'meeting'];
      const columns = ['inbox', 'review', 'action', 'done'];
      
      types.forEach(type => {
        const typeNotes = notes.filter(n => n.type === type);
        document.getElementById(`${type}-total`).textContent = typeNotes.length;

        columns.forEach(col => {
          const container = document.querySelector(`[data-column="${col}"][data-type="${type}"] .column-cards`);
          const colNotes = typeNotes.filter(n => n.column === col);

          // Update count
          document.querySelector(`[data-column="${col}"][data-type="${type}"] .column-count`).textContent = colNotes.length;

          if (colNotes.length === 0) {
            container.innerHTML = '<div class="empty-state">No notes</div>';
            return;
          }

          container.innerHTML = colNotes.map(note => `
            <div class="card ${note.type}" onclick="openNote(${note.id})">
              <div class="card-title">${note.title}</div>
              <div class="card-meta">
                <span>${note.date}</span>
                ${note.actions.filter(a => !a.done).length > 0 ? `
                  <span class="card-tasks">${note.actions.filter(a => !a.done).length}</span>
                ` : ''}
              </div>
            </div>
          `).join('');
        });
      });
    }

    function openNote(id) {
      selectedNote = notes.find(n => n.id === id);
      if (!selectedNote) return;

      const content = document.getElementById('modal-content');
      content.innerHTML = `
        <div class="detail-section">
          <span class="detail-type ${selectedNote.type}">
            ${selectedNote.type === 'voice' ? 'üé§ Voice Note' : 'üìÖ Meeting'}
          </span>
          <h2 style="margin-top: 8px; font-size: 16px;">${selectedNote.title}</h2>
          <p style="color: var(--text-muted); font-size: 12px; margin-top: 4px;">${selectedNote.date}</p>
        </div>

        <div class="detail-section">
          <div class="detail-label">Synopsis</div>
          <div class="detail-content">${selectedNote.synopsis}</div>
        </div>

        ${selectedNote.takeaways.length > 0 ? `
          <div class="detail-section">
            <div class="detail-label">Key Takeaways</div>
            <ul class="takeaway-list">
              ${selectedNote.takeaways.map(t => `<li>‚Ä¢ ${t}</li>`).join('')}
            </ul>
          </div>
        ` : ''}

        ${selectedNote.actions.length > 0 ? `
          <div class="detail-section">
            <div class="detail-label">Action Items</div>
            <ul class="action-list">
              ${selectedNote.actions.map((a, i) => `
                <li>
                  <input type="checkbox" ${a.done ? 'checked' : ''} onchange="toggleAction(${selectedNote.id}, ${i})">
                  <span style="${a.done ? 'text-decoration: line-through; opacity: 0.6;' : ''}">${a.text}</span>
                </li>
              `).join('')}
            </ul>
          </div>
        ` : ''}

        <div class="detail-section">
          <div class="detail-label">Transcript</div>
          <div class="transcript-box">${selectedNote.transcript}</div>
        </div>

        <div class="move-buttons">
          ${selectedNote.column !== 'inbox' ? '<button class="move-btn" onclick="moveNote(\'inbox\')">Inbox</button>' : ''}
          ${selectedNote.column !== 'review' ? '<button class="move-btn" onclick="moveNote(\'review\')">Review</button>' : ''}
          ${selectedNote.column !== 'action' ? '<button class="move-btn" onclick="moveNote(\'action\')">Action</button>' : ''}
          ${selectedNote.column !== 'done' ? '<button class="move-btn primary" onclick="moveNote(\'done\')">Done ‚úì</button>' : ''}
        </div>
      `;

      document.getElementById('modal').classList.add('open');
    }

    function closeModal() {
      document.getElementById('modal').classList.remove('open');
      selectedNote = null;
    }

    function moveNote(column) {
      if (selectedNote) {
        selectedNote.column = column;
        renderBoard();
        closeModal();
      }
    }

    function toggleAction(noteId, actionIndex) {
      const note = notes.find(n => n.id === noteId);
      if (note) {
        note.actions[actionIndex].done = !note.actions[actionIndex].done;
        renderBoard();
        openNote(noteId);
      }
    }

    // Close modal on overlay click
    document.getElementById('modal').addEventListener('click', (e) => {
      if (e.target.id === 'modal') closeModal();
    });

    // Initial render
    renderBoard();
  </script>
</body>
</html>
